<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>动态编辑表格</title>
		<script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.js"></script>
		<style>
			table{
				margin-top: 20px;
				border:2px dotted red;
			}
			
			td{
				width:100px;
				height:20px;
				border:1px solid #ccc;
			}
			button{
				height:24px;
				width:100px;
			}
		</style>
	</head>
	
	<body>
		<input id='row' type="text" placeholder="请输入行数" value='' />
		<input id='col' type="text" placeholder="请输入列数" value='' />
		<button id="btn1">生成</button>
		<div id="div1"></div>
		<script>
			
			$("#btn1").click(function(){
				var rowValue = parseInt($("#row").val());
				var colValue = parseInt($("#col").val());
				$("#div1").empty();
				$("#div1").append("<table></table>");
				for(var i = 0; i < rowValue ; i++){
					$("table").append("<tr></tr>");
				}
				
				for(var j = 0; j < colValue ; j++){
					$("<td></td>").appendTo("tr");
				}

				$("tr td:last-child").after("<button class='btnDelete'>删除本行</button>").after("<button class='btnAdd'>添加下一行</button>");
				//添加下一行
				$(".btnAdd").click(function(){
					var trClone = $(this).parent().clone(true);		
				    trClone.children("td").html("").css("background-color","red");
				    $(this).parent().after(trClone);
				})
				//删除本行
				$(".btnDelete").click(function(){
					$(this).parent().remove();
				})
				
				//动态编辑		
				$("td").click(function(){					
					var that = this;
					var content = $(this).html();
					$(this).html("<input class='in' type='text'/>");
					$(".in").val(content);
					$(".in").focus();
					$(".in").click(function(event){
						event.stopPropagation();
					})
					$(".in").blur(function(){
						$(that).html($(this).val());
					});
				})	
			})

			
		</script>
	</body>
</html>
